\documentclass[main.tex]{subfiles}

\begin{document}

\chapter{Cohomology}
\label{ch:cohomology}

\section{Axiomatic description of a cohomology theory}
\label{sec:axiomatic_description_of_a_cohomology_theory}

There are dual axioms to the Eilenberg-Steenrod axioms (introduced in \hyperref[def:homology_theory]{Definition~\ref*{def:homology_theory}}) which govern cohomology theories.

\begin{definition}[cohomology theory]
  \label{def:cohomology_theory}
  Let $A$ be an abelian group. A \defn{cohomology theory with coefficients in $A$} is a series of functors
  \begin{equation*}
    H^{n}\colon \Pair\op \to \Ab;\qquad n \geq 0
  \end{equation*}
  together with natural transformations
  \begin{equation*}
    \partial\colon H^{n} \circ T\op \Rightarrow H^{n+1}
  \end{equation*}
  satisfying the following conditions.
  \begin{enumerate}
    \item \textbf{Homotopy:} If $f$ and $g$ are homotopic maps of pairs, then $H^{n}(f) = H^{n}(g)$ for all $n$.

    \item \textbf{Excision:} If $(X, A)$ is a pair with $U \subset X$ such that $\bar{U} \subset \mathring{A}$, then the inclusion $i\colon (X\smallsetminus U, A \smallsetminus U) \hookrightarrow (X, A)$ induces an isomorphism
      \begin{equation*}
        H^{n}(i)\colon H^{n}(X, A) \cong H^{n}(X \smallsetminus U, A \smallsetminus U)
      \end{equation*}
      for all $n$.

    \item \textbf{Dimension:} We have
      \begin{equation*}
        H^{n}(\pt) =
        \begin{cases}
          A, &n = 0 \\
          0, &\text{otherwise}.
        \end{cases}
      \end{equation*}

    \item \textbf{Additivity:} If $X = \coprod_{\alpha} X_{\alpha}$ is a disjoint union of topological spaces, then
      \begin{equation*}
        H^{n}(X) = \prod_{\alpha} H^{n}(X_{\alpha}).
      \end{equation*}

    \item \textbf{Exactness:} Each pair $(X, A)$ induces a long exact sequence on cohomology.
  \end{enumerate}
\end{definition}

\section{Singular cohomology}
\label{sec:singular_cohomology}

\begin{definition}[singular cohomology]
  \label{def:singular_cohomology}
  Let $G$ be an abelian group. The \defn{singular cochain complex of $X$ with coefficients in $G$} is the cochain complex
  \begin{equation*}
    S^{\bullet}(X; G) = \Hom(S_{\bullet}(X), G).
  \end{equation*}
  We also define relative homology:
  \begin{equation*}
    S^{\bullet}(X, A; G) = \Hom(S_{\bullet}(X, A), G).
  \end{equation*}
\end{definition}

We will denote the evaluation map $\Hom(A, G) \otimes A \to G$ using angle brackets $\langle \cdot,\cdot \rangle$. In this form, it is usually called the \emph{Kroenecker pairing.}

\begin{lemma}
  \label{lemma:kroenecker_pairing_descends_to_homology}
  Let $C_{\bullet}$ be a chain complex. The evaluation map (also known as the \emph{Kroenecker pairing})
  \begin{equation*}
    \langle \cdot,\cdot \rangle\colon C^{n}(X; G) \otimes C_{n}(X) \to G
  \end{equation*}
  descends to a map on homology
  \begin{equation*}
    \langle \cdot,\cdot \rangle\colon H^{n}(C^{\bullet}) \otimes H_{n}(C_{\bullet}) \to G.
  \end{equation*}
\end{lemma}
\begin{proof}
  Let $\alpha\colon C_{n} \to G \in C^{n}$ be a cocycle and $a \in C_{n}$ a cycle, and let $d b \in C_{n}$ be a boundary. Then
  \begin{align*}
    \langle \alpha, a + db \rangle &= \langle \alpha, a \rangle + \langle \alpha, db \rangle \\
    &= \langle \alpha, a \rangle + \langle \delta \alpha, b \rangle \\
    &= \langle \alpha, a \rangle.
  \end{align*}

  Furthermore, if $\delta \beta \in C^{n}$ is a cocycle, then
  \begin{align*}
    \langle \alpha + \delta \beta, a \rangle &= \langle \alpha, a \rangle + \langle \delta \beta, a \rangle \\
    &= \langle \alpha, a \rangle + \langle \beta, d a \rangle \\
    &= \langle \alpha, a \rangle
  \end{align*}
\end{proof}

Via $\otimes$-hom adjunction, we get a map
\begin{equation*}
  \kappa\colon H^{n}(C^{\bullet}) \to \Hom(H_{n}(C_{\bullet}), G).
\end{equation*}

\begin{theorem}[universal coefficient theorem for singular cohomology]
  Let $X$ be a topological space, and $G$ an abelian group. There is a split exact sequence
  \begin{equation*}
    \begin{tikzcd}
      0
      \arrow[r]
      & \Ext(H_{n-1}(X), G)
      \arrow[r, hook]
      & H^{n}(X; G)
      \arrow[r, two heads]
      & \Hom(H_{n}(X), G)
      \arrow[r]
      & 0
    \end{tikzcd}
  \end{equation*}
\end{theorem}
\begin{proof}
  We now
\end{proof}

\begin{example}
  We have seen (in \hyperref[eg:homology_of_complex_projective_space]{Example~\ref*{eg:homology_of_complex_projective_space}}) that the homology of $\C P^{n}$ is
  \begin{equation*}
    H_{k}(\C P^{n}) =
    \begin{cases}
      \Z, &0 \leq k \leq 2n,\ k \text{ even},\\
      0, &\text{otherwise}.
    \end{cases}
  \end{equation*}

  Thus, for $0 \leq k \leq n$, $k$ even, we find
  \begin{align*}
    H^{k}(\C P^{n}; \Z) &\cong \Ext^{1}(0, \Z) \oplus \Hom(\Z,\Z) \\
    &\cong \Z.
  \end{align*}
  For $k$ odd with $0 \leq k \leq n$, we have
  \begin{align*}
    H^{k}(\C P^{n}; \Z) &\cong \Ext^{1}(\Z, \Z) \oplus \Hom(0,\Z) \\
    &\cong 0.
  \end{align*}

  For $k > n$, we get $H^{k}(\C P^{n}; \Z) = 0$.
\end{example}

\section{The cap product}
\label{sec:the_cap_product}

The Kroenecker pairing gives us a natural evaluation map
\begin{equation*}
  S^{n}(X) \otimes S_{n}(X) \to \Z,
\end{equation*}
allowing an $n$-cochain to eat an $n$-chain. A cochain of order $q$ cannot directly act on a chain of degree $n > q$, but we can split such a chain up into a singular $q$-simplex, on which our cochain can act, and a singular $n-q$-simplex, which is along for the ride.

\begin{definition}[front, rear face]
  \label{def:front_rear_face}
  Let $a\colon \Delta^{n} \to X$ be a singular $n$-simplex, and let $0 \leq q \leq n$.
  \begin{itemize}
    \item The \defn{$(n-q)$-dimensional front face} of $a$ is given by
      \begin{equation*}
        F^{n-q}(a) =
        \begin{tikzcd}
          \Delta^{n-q}
          \arrow[r, "i"]
          & \Delta^{tn}
          \arrow[r, "a"]
          & X
        \end{tikzcd},
      \end{equation*}
      where $i$ is induced by the inclusion
      \begin{equation*}
        \{0, \ldots, n-q\} \hookrightarrow \{1, \ldots, n \};\qquad k \mapsto k.
      \end{equation*}

    \item The \defn{$q$-dimensional rear face} of $a$ is given by
      \begin{equation*}
        R^{q}(a) =
        \begin{tikzcd}
          \Delta^{q}
          \arrow[r, "r"]
          & \Delta^{n}
          \arrow[r, "a"]
          & X
        \end{tikzcd},
      \end{equation*}
      where $r$ is the map
      \begin{equation*}
        \{0, \ldots q\} \to \{0, \ldots, n\};\qquad k \mapsto n-q+k.
      \end{equation*}
  \end{itemize}
\end{definition}

Note that for $a \in S_{n}(X)$, we can write
\begin{equation*}
  F^{n-q}(a) = (\partial_{n-q+1} \circ \partial_{n-q+2} \circ \cdots \circ \partial_{n})(a)
\end{equation*}
and
\begin{equation*}
  R^{q}(a) = (\overbrace{\partial_{0} \circ \partial_{0} \circ \cdots \circ \partial_{0}}^{q\text{ times}}) (a).
\end{equation*}

The cap product will be a map
\begin{equation*}
  \frown\colon S^{q}(X) \otimes S_{n}(X) \to S_{n-q}(X);\qquad \alpha \otimes a \mapsto F^{n-q}(a)\langle a, R^{q}(a) \rangle.
\end{equation*}
However, we will want to generalize slightly, to arbitrary coefficient systems and relative homology.

\begin{definition}[cap product]
  \label{def:cap_product}
  The \defn{cap product} is the map
  \begin{equation*}
    \frown\colon S^{q}(X, A; R) \otimes S_{n}(X, A; R) \to S_{n-q}(X; R); \qquad \alpha \otimes a \otimes r \mapsto F^{n-q}(a) \otimes \langle \alpha, R^{q}(a) \rangle r.
  \end{equation*}
\end{definition}

Of course, we need to check that this is well-defined, i.e.\ that for $b \in S_{n}(A) \subset S_{n}(X)$, we have $\alpha \frown b = 0$. We compute
\begin{equation*}
  \alpha \frown b = F^{n-1}(b) \otimes \langle \alpha, R^{q}(b) \rangle.
\end{equation*}
Since $b \in S_{n}(A)$, we certainly have that $R^{q}(b) \in S_{n}(A)$. But then $\langle\alpha, R^{q}(b)\rangle = 0$ by definition of relative cohomology.

\begin{lemma}
  \label{lemma:cap_product_leibniz_rule}
  The cap product obeys the Leibniz rule, in the sense that
  \begin{equation*}
    \partial(\alpha \frown (a \otimes r)) = (\delta \alpha) \frown (a \otimes r) + (-1)^{q} \alpha \frown (\partial \alpha \otimes r).
  \end{equation*}
\end{lemma}
\begin{proof}
  We do three calculations.
  \begin{align*}
    \partial( \alpha \frown a ) &= \partial(F^{n-q}(\alpha) \otimes \langle \alpha, R^{q}(a) \rangle) \\
    &= \partial(F^{n-q}(a)) \otimes \langle \alpha, R^{q}(a) \rangle \\
    &= \sum_{i = 0}^{n-q} (-1)^{i} \partial_{i} (\partial_{n-q+1} \circ \cdots \circ \partial_{n})(a) \otimes\langle \alpha, R^{q}(a) \rangle
  \end{align*}

  \begin{align*}
    (\delta \alpha) \frown a &= F^{n-q}(a) \otimes \langle \delta \alpha, R^{q}(a) \rangle \\
    &= F^{n-q}(a) \otimes \langle \delta \alpha, R^{q}(a) \rangle \\
    &= F^{n-q}(a) \otimes \langle \alpha, \partial R^{q}(a) \rangle \\
    &= \sum_{i = 0}^{q} (-1)^{i} F^{n-q}(a) \otimes \langle \alpha, \partial_{i} \circ \partial_{0}^{q} a \rangle
  \end{align*}

  \begin{align*}
    \alpha \frown (\partial a) =
  \end{align*}
\end{proof}

\begin{proposition}
  The cap product descends to a map on homology
  \begin{equation*}
    \frown\colon H^{q}(X, A; R) \otimes H_{n}(X, A; R) \to H^{n-q}(X, A; R)
  \end{equation*}
  via the formula
  \begin{equation*}
    [\alpha] \cap [a] := [\alpha \cap a].
  \end{equation*}
\end{proposition}
\begin{proof}
  Let us first collect some general results. Consider the formula
  \begin{equation*}
    \partial(\alpha \frown a) = (\delta \alpha) \frown a + (-1)^{q} \alpha \frown \partial a.
  \end{equation*}
  \begin{enumerate}
    \item Let \(\alpha\) be a cocycle and \(a\) be a cycle. Then each term on the right-hand side is zero, so
      \begin{equation*}
        \text{cocycle} \frown \text{cycle} = \text{cycle}.
      \end{equation*}

    \item Let \(\alpha\) be arbitrary, so \(\delta \alpha\) is a coboundary, and let \(a\) be a cycle. Then the above formula, read backwards, tells us that
      \begin{equation*}
        \text{coboundary} \frown \text{cycle} = \text{boundary}.
      \end{equation*}

    \item Let \(a\) be arbitrary, so \(\partial a\) is a cycle, and let \(\alpha\) be a coboundary. Then we get
      \begin{equation*}
        \text{cocycle} \frown \text{boundary} = \text{boundary}.
      \end{equation*}
  \end{enumerate}

  Point 1.\ tells us that the formula is well-defined to begin with: \(\alpha \cap a\) is really a cycle. Now suppose we had picked different representatives \(\alpha + \delta \beta\) and \(a + \partial b\). Then
  \begin{align*}
    [\alpha + \delta \beta] \frown [a + \partial b] &= [(\alpha + \delta \beta) \frown (a + \partial b)] \\
    &= [\alpha \frown a] + [\delta \beta \frown a] + [\alpha \frown \partial b] + [\delta \beta \frown \partial b] \\
    &= [\alpha \frown a] \\
    &= [\alpha] \frown [a],
  \end{align*}
  where the the second term is zero because of 2.\ and the third term is zero because of 3.
\end{proof}

\begin{proposition}
  \label{prop:cup_product_natural}
  The cap product is natural in the sense that for any \(f\colon X \to X\) inducing a map of pairs \((X, A) \to (X, B)\), the diagram
  \begin{equation*}
    \begin{tikzcd}
      H^{q}(X, A; R) \otimes H^{n}(X, A; R)
      \arrow[rrr, "\frown"]
      \arrow[ddd]
      &&& H_{n-q}(X; R)
      \arrow[ddd]
      \\
      & (f^{*}\beta, a)
      \arrow[r, mapsto]
      \arrow[d, mapsto]
      & F(a) \otimes \langle f^{*}\beta, R(a) \rangle
      \arrow[d, mapsto]
      \\
      & (\beta, f_{*}a)
      \arrow[r, mapsto]
      & \star
      \\
      H^{q}(X, B; R) \otimes H^{n}(X, B; R)
      \arrow[rrr, "\frown"]
      &&& H_{n-q}(X; R)
    \end{tikzcd}
  \end{equation*}
  commutes, i.e.\
  \begin{equation*}
    f_{*}(F(a) \otimes \langle f^{*} \beta, R(a) \rangle) = F(f_{*}a) \otimes \langle \beta, R(f_{*}a) \rangle.
  \end{equation*}
\end{proposition}
\begin{proof}
  \begin{align*}
    f_{*}(F(a) \otimes \langle f^{*} \beta, R(a) \rangle) &= f_{*}(F(a) \otimes \langle f^{*}\beta, R(\alpha) \rangle) \\
    &= f_{*}(F(a) \otimes \langle \beta, f_{*}(R(a)) \rangle) \\
    &= f_{*}(F(a) \otimes \langle \beta, R(f_{*}a) \rangle) \\
    &= F(f_{*}a) \otimes \langle \beta, R(f_{*}a) \rangle.
  \end{align*}
\end{proof}
We can write this in a prettier way as
\begin{equation*}
  f_{*}(f^{*}\beta \frown a) = \beta \frown f_{*}(a).
\end{equation*}

\begin{example}
  Suppose \(X\) is simply connected, and let
\end{example}

\section{The cup product}
\label{sec:the_cup_product}

This section takes place over a commutative ring with unit \(R\). We will notationally suppress \(R\).

Recall that we have constructed an Eilenberg-Zilber map
\begin{equation*}
  S_{\bullet}(X \times Y) \to S_{\bullet}(X) \otimes S_{\bullet}(Y).
\end{equation*}
in \hyperref[ssc:eilenberg_zilber_with_acyclic_models]{Subsection~\ref*{ssc:eilenberg_zilber_with_acyclic_models}}. There exist generalizations, which we will not construct explicitly.

\begin{definition}[Eilenberg-Zilber map]
  \label{def:eilenberg_zilber_map}
  An \defn{Eilenberg-Zilber map} is a natural chain map
  \begin{equation*}
    S_{\bullet}(X \times Y, X \times B \cup A \times Y) \to S_{\bullet}(X, A) \otimes S_{\bullet}(Y, B).
  \end{equation*}
\end{definition}

\begin{definition}[cohomology cross product]
  \label{def:cohomology_cross_product}
  Let \(\mathrm{EZ}\) be any Eilenberg-Zilber map. For any \(\alpha \in S^{p}(X, A)\) and \(\beta \in S^{q}(Y, B)\), a \defn{cohomology cross product} of \(\alpha\) and \(\beta\) is the \((p + q)\)-cochain \(\alpha \times \beta\) defined by making the below diagram commute.
  \begin{equation*}
    \begin{tikzcd}
      S_{n}(X \times Y; X \times B \cup A \times Y)
      \arrow[ddrr, "\alpha \times \beta"]
      \arrow[d, swap, "\mathrm{EZ}"]
      \\
      \displaystyle\bigoplus\limits_{p + q = n} S_{p}(X) \otimes S_{q}(Y)
      \arrow[d, swap, "\mathrm{proj}"]
      \\
      S_{p}(X, A) \otimes S_{q}(Y, B)
      \arrow[r, swap, "\alpha \otimes \beta"]
      & R \otimes R
      \arrow[r, swap, "\mu"]
      & R
    \end{tikzcd}
  \end{equation*}
\end{definition}

\begin{fact}
  \label{fact:homology_cross_product_is_natural_chain_map}
  Any homology cross product extends to a natural chain map
  \begin{equation*}
    S^{\bullet}(X, A) \otimes S^{\bullet}(Y, B) \to S^{\bullet}(X \times Y, X \times B \cup A \times Y).
  \end{equation*}
\end{fact}

Note that since the Eilenberg-Zilber map is natural by assumption, projection is natural for any product, and evaluation is natural by definition of the tensor product, the homology cross product is natural in that the diagram
\begin{equation*}
  \begin{tikzcd}
    S^{p}(X) \otimes S^{q}(Y)
    \arrow[r]
    \arrow[d]
    & S^{p+q}(X \times Y)
    \arrow[d]
    \\
    S^{p}(X') \otimes S^{q}(Y')
    \arrow[r]
    & S^{p+q}(X' \times Y')
  \end{tikzcd}
\end{equation*}
commutes; that is
\begin{equation*}
  (f, g)^{*}(\alpha \times \beta) = (f^{*}\alpha) \times (g^{*}\beta).
\end{equation*}

\begin{fact}
  \label{fact:properties_of_homology_corss_product}
  The homology cross product has the following properties.
  \begin{enumerate}
    \item The Leibniz rule holds, i.e.\
      \begin{equation*}
        \delta(\alpha \times \beta) = (\delta \alpha) \times \beta + (-1)^{\abs{\alpha}} \times (\delta \beta).
      \end{equation*}

    \item For the Kroenecker pairing we have for homology classes \(a\), \(b\), and cohomology classes \(\alpha\), \(\beta\) of corresponding degree
      \begin{equation*}
        \langle \alpha \times \beta, a \times b \rangle = \langle \alpha, a \rangle\langle \beta, b \rangle.
      \end{equation*}

    \item For \(1 \in R\) and thus \(1 \in S^{0}(X, A)\), we have
      \begin{equation*}
        1 \times \beta = p_{2}^{*}(\beta), \qquad \alpha \times 1 = p^{*}_{1}(\alpha),
      \end{equation*}
      where \(p_{i}\) denotes the projection onto the \(i\)th factor of \(X \times Y\).

    \item The cohomology cross product is associative.

    \item The cohomology cross product satisfies a graded version of commutativity: the twist map \(\tau\colon X \times Y \to Y \times X\) yields on homology
      \begin{equation*}
        \alpha \times \beta = (-1)^{\abs{\alpha}\abs{\beta}} \tau^{*}(\beta \times \alpha).
      \end{equation*}
  \end{enumerate}
\end{fact}

\begin{definition}[cup product]
  \label{def:cup_product}
  Denote by \(\Delta\colon X \to X \times X\) the diagonal map. The cup product is the composition
  \begin{equation*}
    H^{p}(X, A) \otimes H^{q}(X, B) \to H^{p+q}(X \times X, X \times B \cup A \times X) \to H^{p+q}(X, A \cup B),
  \end{equation*}
  where the first map is the cross product, and the second map is the pullback along the diagonal. That is,
  \begin{equation*}
    \alpha \cup \beta = \Delta^{*}(\alpha \times \beta).
  \end{equation*}
\end{definition}

\begin{proposition}
  The cup product satisifes the following identities.
  \begin{enumerate}
    \item \(\alpha \cup (\beta \cup \gamma) = (\alpha \cup \beta) \cup \gamma\)

    \item \(\alpha \cup \beta = (-1)^{\abs{\alpha}\abs{\beta}}\).

    \item For \(\partial\colon H^{*}(A) \to H^{*+1}(X, A)\), \(\alpha \in H^{*}(A)\), \(\beta \in H^{*}(X)\), we have
      \begin{equation*}
        \partial(\alpha \cup i^{*}\beta) = (\partial \alpha) \cup \beta \in H^{*}(X, A).
      \end{equation*}

    \item For \(f\colon X \to Y\), we have
      \begin{equation*}
        f^{*}(\alpha \cup \beta) = f^{*}\alpha \cup f^{*}\beta.
      \end{equation*}

    \item We can express the cohomology cross product via the cup product using the formula
      \begin{equation*}
        \alpha \times \beta = p_{1}^{*}(\alpha) \cup p_{2}^{*}(\beta).
      \end{equation*}
  \end{enumerate}
\end{proposition}
\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item Consequence of associativity of the cross product.

    \item

    \item

    \item

    \item
  \end{enumerate}
\end{proof}

\begin{definition}[diagonal approximation]
  \label{def:diagonal_approximation}
  A \defn{diagonal approximation} is a natural chain map
  \begin{equation*}
    D\colon S_{\bullet}(X) \to S_{\bullet}(X) \otimes S_{\bullet}(X)
  \end{equation*}
  with \(D(x) = x \otimes x\) for \(x \in S_{0}(X)\).
\end{definition}

\hyperref[thm:acyclic_model_theorem]{Theorem~\ref*{thm:acyclic_model_theorem}} tells us immediately that any two diagonal approximations are naturally homotopic.

\begin{example}[Alexander-Whitney map]
  \label{eg:alexander_whitney_map}
  Consider the map
  \begin{equation*}
    \mathrm{AW}\colon S_{n}(X) \to (S_{\bullet}(X) \times S_{\bullet}(X))_{n},\qquad a \mapsto \sum_{p + q = n} F^{p}(A) \otimes R^{q}(a).
  \end{equation*}
  This is a chain map because
\end{example}

\section{Manifold orientations}
\label{sec:manifold_orientations}

\subsection{Basic definitions and results}
\label{ssc:basic_definitions_and_results}

Let \(M\) be an \(n\)-dimensional topological manifold. Without loss of generality, we may choose an atlas for \(M\) such that each each point \(x \in M\) has a chart \((U_{x}, \phi_{x})\) such that \(U_{x} \cong \R^{n}\) and \(\phi_{x}(x) = 0 \in \R^{n}\).

Let \(x \in M\). Then
\begin{align*}
  H_{n}(M, M\smallsetminus\{x\}) &\cong H_{n}(M \smallsetminus (M \smallsetminus U_{x}), M\smallsetminus \{x\} \smallsetminus (M \smallsetminus U_{x})) &(\text{excision}) \\
  &\cong H_{n}(U_{x}, U_{x} \smallsetminus \{x\}) \\
  &\cong H_{n}(\D^{n}, \S^{n-1}) &(\text{homotopy}) \\
  &\cong H_{n-1}(\S^{n-1}) &(\text{\hyperref[eg:sphere_modulo_boundary]{Example~\ref*{eg:sphere_modulo_boundary}}})\\
  &\cong \Z.
\end{align*}

We call a choice of generator of \(H_{n}(X, X \smallsetminus \{x\} )\) a \emph{local orientation} on \(M\) at \(x\). For any other point \(y \in U_{x}\), a local orientation at \(x\) gives a local orientation at \(y\) via the composition
\begin{equation*}
  H_{n}(X, X\smallsetminus \{x\}) \cong H_{n}(X, X\smallsetminus U_{x}) \cong H_{n}(X, X\smallsetminus \{y\}).
\end{equation*}

We will use the following notation: for a pair \(X, A\), we will write
\begin{equation*}
  H_{n}(X, A \smallsetminus X) = H_{n}(X \mid A).
\end{equation*}
Furthermore, if \(A = \{x\}\), we will write \(H_{n}(X \mid x)\) instead of \(H_{n}(X \mid \{x\})\).

We think of \(H_{n}(X \mid A)\) as the \emph{local homology} of \(A\) in \(X\), since it depends (by excision) only on the closure of \(A\) in \(X\).

\begin{definition}[orientation cover]
  \label{def:orientation_cover}
  Let \(M\) be an \(n\)-dimensional manifold. The \defn{orientation cover} of \(M\) is, as a set,
  \begin{equation*}
    \tilde{M} = \{\mu_{x} \mid x \in M,\ \mu_{x} \text{ is a local orientation of }M \text{ at }x\}.
  \end{equation*}
\end{definition}

There is a clear surjection from \(\tilde{M}\) to \(M\) as follows.
\begin{equation*}
  \begin{tikzcd}
    \tilde{M}
    \arrow[d]
    & \mu_{x}
    \arrow[d, mapsto]
    \\
    M
    & x
  \end{tikzcd}
\end{equation*}

The set \(\tilde{M}\) turns out to be a topological manifold, and the surjection \(\tilde{M} \to M\) turns out to be a double cover. We will show this later.

\begin{definition}[orientation]
  \label{def:orientation}
  Let \(M\) be an \(n\)-dimensional manifold. An \defn{orientation} on \(M\) is a set-section \(\sigma\) of the bundle \(\tilde{M} \to M\) satisfying the following condition: for any \(x \in M\) and any \(y \in U_{x}\), the induced local orientation at \(y\) is equal to \(\sigma(y)\).
\end{definition}

For a triple \(B \subset A \subset X\) denote the canonical map on pairs \((X, X\smallsetminus A) \to (X, X\smallsetminus B)\) by \(\rho_{B, A}\).

\begin{lemma}
  \label{lemma:manifold_induction_for_compacta}
  Let \(M\) be a connected, orientable topological manifold of dimension \(m\), and let \(K s\{ M\}\) be a compact subset.
  \begin{enumerate}
    \item For all \(q > m\), \(H_{q}(M \mid K) = 0\).

    \item If \(a \in H_{m}(M \mid k)\), then \(a = 0\) if and only if \((\rho_{x, K})_{*}a = 0\) for all \(x \in X\).
  \end{enumerate}
\end{lemma}
\begin{proof}[Sketch of proof]
  The proof uses manifold induction, which consists of the following steps.
  \begin{enumerate}
    \item Prove the result the special case that our manifold \(M\) is simply \(\R^{n}\) and \(K\) is a convex compact subset.

    \item Using Mayer-Vietoris, show that the result holds when \(K\) is a union of two compact, convex subsets.

    \item The case of \(M = \R^{n}\) \(K\) a union of \(n\) compact, convex subsets follows by induction.

    \item For \(K\) an arbitrary compact subset of \(\R^{m}\), we cover \(K\) by finitely many closed balls \(B_{i}\), then show that every cycle on \(H_{q}(\R^{m} \mid K)\) comes from a cycle on \( H_{q}(\R^{m} \mid \bigcup_{i} B_{i})\). Since \(\bigcup_{i} B_{i}\) is a finite union of compact, convex subsets, there are no non-trivial cycles, implying the claim.

    \item For an arbitrary compact subset contained in a single chart, the claim reduces to the \(\R^{m}\) case above.

    \item For an arbitrary compact subset contained in two charts, the result follows from the Mayer-Vietoris sequence. The general claim follows by induction.
  \end{enumerate}
\end{proof}
\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item First take \(M = \R^{m}\) and \(K \subset M\) compact and convex, so that any \(x \in K\) is a deformation retract of \(K\). Then, since \(K\) is closed and bounded, we can find an open ball \(\mathring{\D}^{m}\) with \(K \subset \mathring{\D}^{m}\). Then certainly
      \begin{equation*}
        \overline{M \smallsetminus \mathring{\D}^{m}} = M \smallsetminus \D^{m} \subset \mathring{(M \smallsetminus K)} = M \smallsetminus K,
      \end{equation*}
      so by excision and deformation retractness we have
      \begin{align*}
        H_{q}(M, M \smallsetminus K) &\cong H_{q}(M \smallsetminus (M \smallsetminus \mathring{\D}^{m}), (M \smallsetminus K) \smallsetminus (M \smallsetminus \mathring{\D}^{m})) \\
        &= H_{q}(\D^{m}, \D^{m} \smallsetminus K) \\
        &\cong H_{q}(\D^{m}, \D^{m} \smallsetminus \{x\}) \\
        &\cong H_{q}(\D^{m}, \S^{m-1}) \\
        &\cong H_{q-1}(\S^{m-1}).
      \end{align*}
      For \(q > m\), this is \(0\), and for \(q = m\) we note that similar reasoning provides an isomorphism
      \begin{equation*}
        H_{q}(M, M \smallsetminus K) \cong H_{q}(M, M \smallsetminus \{x\})\text{ for all } x \in X.
      \end{equation*}

    \item Now let \(M = \R^{n}\) and \(K = K_{1} \cup K_{2}\), where both \(K_{i}\) are compact and convex. Note that \(K_{1} \cap K_{2}\) is also compact and convex. Consider the following relative Mayer-Vietoris sequence.
      \begin{equation*}
        \begin{tikzcd}
          & \cdots
          \arrow[r]
          & H_{q+1}(M\mid K_{1} \cap K_{2})
          \\
          H_{q}(M\mid K_{1} \cup K_{2})
          \arrow[from=urr, out=-22, in=157, looseness=1, overlay, "\delta" description]
          \arrow[r]
          & H_{q}(M\mid K_{1}) \oplus H_{q}(M\mid K_{2})
          \arrow[r]
          & H_{q}(M\mid K_{1} \cap K_{2})
          \\
          H_{q-1}(M\mid K_{1} \cup K_{2})
          \arrow[r]
          \arrow[from=urr, out=-22, in=157, looseness=1, overlay, "\delta" description]
          & \cdots
        \end{tikzcd}
      \end{equation*}

      For \(q > n\), Part 1.\ implies that
      \begin{equation*}
        H_{q+1}(M\mid K_{1} \cap K_{2}) = H_{q}(M \mid K_{1}) = H_{q}(M \mid K_{2}) = 0,
      \end{equation*}
      so by exactness \(H_{q}(M \mid K_{1} \cup K_{2}) = 0\).

    \item For \(M = \R^{n}\), \(K = \bigcup_{i} K_{i}\) for \(K_{i}\) compact and contractible, we get the result by induction.

    \item Let \(M = \R^{n}\), and let \(K\) be an arbitrary compact subset.

      Choose some \(a \in H_{q}(\R^{n} \mid K)\), and choose \(\psi \in S_{q}(\R^{m})\) representing \(a\). Then because \(\psi\) is a relative cycle, \(\partial \psi \in S_{q-1}(\R^{n} \smallsetminus K)\).

      This means that we can express \(\partial \psi\) as
      \begin{equation*}
        \sum_{j = 1}^{\ell} \lambda_{j} \tau_{j},\qquad \tau_{j}\colon \Delta^{q-1} \to \R^{m} \smallsetminus K.
      \end{equation*}
      Since \(\Delta^{q-1}\) is compact, the images \(\tau(\Delta^{q-1})\) are compact, and their union
      \begin{equation*}
        T = \bigcup_{j = 1}^{\ell} \tau_{j}(\Delta^{q-1})
      \end{equation*}
      is compact.

      There exists an open set \(U \subset \R^{m}\) with \(K \subset U\) and \(T \cap U = \emptyset\). Thus, we know that
      \begin{equation*}
        \partial \psi \in \R^{m} \smallsetminus U \implies \psi \in Z_{q}(\R^{m} \mid U).
      \end{equation*}
      Denote the representative of \(\psi\) in \(H_{q}(\R^{m} \mid U)\) by \([\psi] = a'\).

      Due to general topology stuff, we can always find finitely many closed balls \(B_{i}\) satisfying the following conditions.
      \begin{enumerate}
        \item \(B_{i} \subset U\) for all \(i\)

        \item \(B_{i} \cap K \neq \emptyset\)

        \item \(K \subset \bigcup_{i} B_{i}\)
      \end{enumerate}
      Then \(K \subset \bigcup_{i} B_{i} \subset U\), and we have restriction maps as follows.
      \begin{equation*}
        \begin{tikzcd}[row sep=small, column sep=huge]
          S_{q}(\R^{m} \mid U)
          \arrow[r, "{(\rho_{\bigcup_{i} U_{i}, U})_{*}}"]
          & S_{q}(\R^{m} \mid \bigcup_{i} B_{i})
          \arrow[r, "{(\rho_{K, \bigcup_{i}U_{i}})_{*}}"]
          & S_{q}(\R^{m} \mid K)
          \\
          a'
          \arrow[r, mapsto]
          & (\rho_{\bigcup_{i}B_{i}, U})_{*}(a') = a''
          \arrow[r, mapsto]
          & a
        \end{tikzcd}
      \end{equation*}
      Suppose \(q > m\). We have already showed that \(H_{q}(\R^{m} \mid \bigcup_{i} B_{i}) = 0\), so \(a'' = 0\). Hence \(a = 0\).

      Now suppose \(q = m\). We will provide running commentary on the following commutative diagram.
      \begin{equation*}
        \begin{tikzcd}[column sep=small]
          H_{m}(X \mid U)
          \arrow[rr]
          && H_{m}(X \mid \bigcup_{i} B_{i})
          \arrow[rr]
          \arrow[d]
          \arrow[ddl]
          \arrow[ddr]
          && H_{m}(X \mid K)
          \\
          && H_{m}(X \mid B_{i})
          \arrow[dl]
          \arrow[dr]
          \\
          & H_{m}(X \mid y)
          && H_{m}(X \mid x)
        \end{tikzcd}
      \end{equation*}
      We have shown that given \(a \in H_{m}(X \mid K)\), one can find \(a' \in H_{m}(X \mid U)\) and \(a'' \in H_{m}(X \mid \bigcup_{i} B_{i})\) which map to each other as follows. By assumption, \(a''\) maps to zero in \(H_{m}(X \mid x)\).
      \begin{equation*}
        \begin{tikzcd}
          a'
          \arrow[rr, mapsto]
          && a''
          \arrow[rr, mapsto]
          \arrow[ddr, mapsto]
          && a
          \\
          \\
          &&& 0
        \end{tikzcd}
      \end{equation*}
      Pick some \(B_{i}\) containing \(x\). Since \((\rho_{x, B_{i}})_{*}\) is an isomorphism, we have that \((\rho_{B_{i}, \bigcup_{i} B_{i}})_{*}(a'') = 0\).
      \begin{equation*}
        \begin{tikzcd}
          a'
          \arrow[rr, mapsto]
          && a''
          \arrow[rr, mapsto]
          \arrow[ddr, mapsto]
          \arrow[d, mapsto]
          && a
          \\
          && 0
          \arrow[dr, mapsto]
          \\
          &&& 0
        \end{tikzcd}
      \end{equation*}
      For any \(y \in B_{i}\), we know that \((\rho_{y, B_{i}})_{*}\) is an isomorphism.
      \begin{equation*}
        \begin{tikzcd}
          a'
          \arrow[rr, mapsto]
          && a''
          \arrow[rr, mapsto]
          \arrow[ddr, mapsto]
          \arrow[d, mapsto]
          \arrow[ddl, mapsto]
          && a
          \\
          && 0
          \arrow[dr, mapsto]
          \arrow[dl, mapsto]
          \\
          & 0
          && 0
        \end{tikzcd}
      \end{equation*}
      Thus \((\rho_{y, \bigcup_{i}B_{i}})_{*}(a'') = 0\) for all \(y \in \bigcup_{i} B_{i}\), so the result is implied by work above.

    \item Mayer-Vietoris and induction.
  \end{enumerate}
\end{proof}

\begin{proposition}
  \label{prop:orientation_class_for_compacta}
  Let \(K \subset M\) be compact, and assume that \(M\) is connected and oriented via an orientation \(x \mapsto o_{x} \in H_{m}(X \mid x)\). Then there exists a unique orientation class \(o_{K} \in H_{m}(M | K)\) such that \((\rho_{x, K})_{*}o_{K} = o_{x}\) for all \(x \in K\).
\end{proposition}
\begin{proof}
  First we show uniqueness, as we will need it later. Suppose that there exist two orientation classes \(o_{K}\), \(o'_{K}\) such that
  \begin{equation*}
    (\rho_{x, K})_{*}o_{K} = (\rho_{x, K})_{*}o'_{K} = o_{x}.
  \end{equation*}
  Taking a difference, we find
  \begin{equation*}
    (\rho_{x, K})_{*}(o_{K} - o'_{K}) = 0,
  \end{equation*}
  so by \hyperref[lemma:manifold_induction_for_compacta]{Lemma~\ref*{lemma:manifold_induction_for_compacta}}, we get uniqueness.

  As a first step towards proving existence, suppose that \(K\) is contained in the domain \(U_{\alpha} \cong \R^{n}\) of a single chart. Pick some \(x \in K\), and consider the following morphisms in \(\Pair\)
  \begin{equation*}
    \begin{tikzcd}
      M \smallsetminus U_{\alpha}
      \arrow[r, hook]
      \arrow[d, hook]
      & M
      \arrow[d, equals]
      \\
      M \smallsetminus K
      \arrow[r, hook]
      \arrow[d, hook]
      & M
      \arrow[d, equals]
      \\
      M \smallsetminus \{x\}
      \arrow[r, hook]
      & M
      \\
    \end{tikzcd}
  \end{equation*}
  which correspond to the commuting diagram.
  \begin{equation*}
    \begin{tikzcd}
      H_{m}(M \mid U_{\alpha})
      \arrow[r, equals]
      \arrow[d, swap, "\phi"]
      & H_{m}(M \mid x)
      \\
      H_{m}(M \mid K)
      \arrow[ur]
    \end{tikzcd}
  \end{equation*}
  Pulling \(o_{x} \in H_{m}(M \mid x)\) back to \(H_{m}(M \mid U_{\alpha})\), then mapping it to \(H_{m}(M | K)\) with \(\phi\) gives an orientation class \(o_{K} \in H_{m}(M \mid K)\). The commutativity of the diagram ensures that \((\rho_{x, K})_{*}o_{K} = o_{x}\).

  Now suppose that \(K\) is not contained in a single chart. We can find an open cover of \(K\) by charts, and since \(K\) is compact, there exists a finite subcover.

  Suppose \(K\) is contained in two charts \(U_{1}\) and \(U_{2}\); the general case follows by induction. Then we can express \(K\) as a union of compacta \(K =  K_{1} \cup K_{2}\), where \(K_{i} \subset U_{i} \). Consider the relative Mayer-Vietoris sequence
  \begin{equation*}
    \begin{tikzcd}[column sep=small]
      0
      \arrow[r]
      & H_{m}(M\mid K_{1} \cup K_{2})
      \arrow[r, hook, "i"]
      & H_{m}(M\mid K_{1}) \oplus H_{m}(M\mid K_{2})
      \arrow[r, "\kappa"]
      & H_{m}(M\mid K_{1} \cap K_{2})
      \arrow[r]
      & \cdots
    \end{tikzcd}
  \end{equation*}
  By our above work, we get unique orientation classes \(o_{K_{i}} \in H_{m}(M | K_{i})\) such that \((\rho_{x, K_{i}})_{*} = o_{x}\) for all \(x \in K_{i}\), \(i = 1\), \(2\). Applying \(\kappa\), we find
  \begin{equation*}
    \kappa(o_{K_{1}}, o_{K_{2}}) = \rho_{K_{1} \cap K_{2}, K_{1}}o_{K_{1}} - \rho_{K_{1} \cap K_{2}, K_{2}}o_{K_{2}}.
  \end{equation*}
  But by uniqueness, these must be equal, so there exists a unique \(o_{K}\) in \(H_{m}(M \mid K)\) as in the theorem.
\end{proof}


In order to give \(\tilde{M}\) a manifold structure, we define a topology on \(\tilde{M}\) as follows. Let \(B \subset \R^{n} \subset M\) be a ball of finite radius, and choose a generator \(\mu_{B} \in H_{n}(M \mid B)\). Let \(U(\mu_{B})\) be the subset consisting of elements \(\mu_{x} \in \tilde{M}\) such that \(x \in B\) and \((\rho_{x,B})_{*}(\mu_{B}) = \mu_{x}\). These form a basis for a topology; to see this note that

Relative to this topology, the projection \(\tilde{M} \to M\) is two-sheeted covering. This immediately imples that \(\tilde{M}\) is a manifold. In fact, \(\tilde{M}\) is an oriented manifold. To see this, note that we have isomorphisms
\begin{equation*}
  H_{n}(\tilde{M} \mid \mu_{b}) \cong H_{n}(U(\mu_{B}) \mid \mu_{b}) \cong H_{n}(B \mid x),
\end{equation*}
where


\begin{definition}[orientation class]
  \label{def:orientation_class}
  Let \(M\) be a connected, orientable, compact manifold of dimension \(m\). An \defn{orientation class} on \(M\) is an element \(o_{m} \in H_{m}(M\colon \Z)\) such that \(o_{x} = (\rho_{x, M})_{*} o_{m}\)  is an orientation.
\end{definition}

\begin{theorem}
  Let \(M\) be a compact, connected manifold of dimension \(m\). The following are equivalent.
  \begin{enumerate}
    \item \(M\) is (\(\Z\)-)orientable.

    \item There exists an orientation class \(o_{M} \in H_{m}(M; \Z)\).

    \item \(H_{m}(M; \Z) \cong \Z\).
  \end{enumerate}
\end{theorem}
\begin{proof}
  \leavevmode
  \begin{enumerate}[leftmargin=4em]
    \item[\((1 \Rightarrow 2)\)] Consequence of \hyperref[prop:orientation_class_for_compacta]{Proposition~\ref*{prop:orientation_class_for_compacta}}.

    \item[\((2 \Rightarrow 3)\)] Let \(a \in H_{m}(M)\), and let \(x \in M\). Then \((\rho_{x, M})_{*}a = k_{x} o_{x}\) for some \(k_{x} \in \Z\). This defines a function \(M \to \Z\), \(x \mapsto k_{x}\).

      We aim to show that this function is constant. Choose a chart \(U_{x}\) around \(x\), and let \(y \in U_{x}\). Then the outside of the following diagram commutes by functoriality of \(H_{m}\), and the lower triangle commutes by definition of an orientation class, so the upper triangle commutes.
      \begin{equation*}
        \begin{tikzcd}[column sep=small]
          & H_{n}(M)
          \arrow[dr]
          \arrow[dl]
          \\
          H_{m}(M \mid x)
          \arrow[dr, equals]
          \arrow[rr, "\phi"]
          && H_{m}(M \mid y)
          \arrow[dl, equals]
          \\
          & H_{m}(X \mid U_{x})
        \end{tikzcd}
      \end{equation*}
      This means in particular that
      \begin{equation*}
        \phi(k_{x} o_{x}) = k_{x} \phi(o_{x}) = k_{x} o_{y}
      \end{equation*}
      must be equal to \(k_{y} o_{y}\), so \(k_{x} = k_{y}\). Thus, the function \(x \mapsto k_{x}\) is locally constant, hence constant. Call this constant \(k\).

      Thus, \(ka - o_{M}\) is zero when restricted to any \(x \in M\), implying by \hyperref[prop:orientation_class_for_compacta]{Proposition~\ref*{prop:orientation_class_for_compacta}} that \(a = k o_{M}\). \(o_{M}\) generates \(H_{m}(M)\).

      We know that \(o_{M}\) is non-trivial because \((\rho_{x, M})_{*} o_{M}\) generates \(H_{m}(M | x)\), and that it has infinite order because if \(\ell o_{M} = 0\) for some \(\ell \neq 0 \in \Z\) \(H_{m}(M)\), then \(\ell (\rho_{x, M})_{*}o_{M} = \ell o_{x} = 0\). This shows that \(H_{m}(M)\) has a single generator of infinite order, i.e.\ is isomorphic to \(\Z\).


    \item[\((2 \Rightarrow 3)\)] Pick a generator \(o_{M} \in \Z\), and define an orientation by
      \begin{equation*}
        o_{x} = (\rho_{x, M})_{*} o_{M}.
      \end{equation*}
  \end{enumerate}
\end{proof}

From now, we will sometimes denote an orientation class on \(M\) by \([M]\).

\subsection{The orientation cover}
\label{ssc:the_orientation_cover}

Let \(M\) be an \(n\)-dimensional manifold, not necessarily orientable.

In order to give \(\tilde{M}\) a manifold structure, we define a topology on \(\tilde{M}\) as follows. Let \(D\colon \D^{m} \hookrightarrow M\) be a compact subset of \(M\) homeomorphic to the closed ball, and pick \(\mu_{D} \in H_{m}(M \mid \mathring{\D})\). We define a subset \(U_{B} \subset \tilde{M}\) by

Let \(\D^{n} \subset \R^{n} \subset M\) be a closed ball of finite radius and, and choose a generator \(\mu_{B} \in H_{n}(M \mid B)\). Let \(U(\mu_{B})\) be the subset consisting of elements \(\mu_{x} \in \tilde{M}\) such that \(x \in B\) and \((\rho_{x,B})_{*}(\mu_{B}) = \mu_{x}\). These form a basis for a topology; to see this note that

Relative to this topology, the projection \(\tilde{M} \to M\) is two-sheeted covering. This immediately imples that \(\tilde{M}\) is a manifold. In fact, \(\tilde{M}\) is an oriented manifold. To see this, note that we have isomorphisms
\begin{equation*}
  H_{n}(\tilde{M} \mid \mu_{b}) \cong H_{n}(U(\mu_{B}) \mid \mu_{b}) \cong H_{n}(B \mid x),
\end{equation*}
where

\subsection{Degree}
\label{ssc:degree}

\begin{definition}[degree]
  \label{def:degree}
  Let \(M\) and \(N\) be oriented, connected, compact manifolds of the same dimension \(m \geq 1\), and let \(g\colon M \to N\) be continuous. The \defn{degree} of \(f\) is the integer \(d\) such that
  \begin{equation*}
    f(o_{M}) = d o_{N}.
  \end{equation*}
\end{definition}

\begin{proposition}
  Let \(M\) and \(N\) be oriented, connected, compact manifolds of the same dimension \(m \geq 1\), and let \(f,\) \(g\colon M \to N\) be continuous.
  \begin{enumerate}
    \item The degree is multiplicative, i.e.
      \begin{equation*}
        \deg(f \circ g) = \deg(f) \circ \deg(g)
      \end{equation*}

    \item If \(\bar{M}\) is the same manifold as \(M\) but with the opposite orientation, then
      \begin{equation*}
        \deg (f\colon M \to N) = - \deg(f\colon \bar{M} \to N).
      \end{equation*}

    \item If the degree of \(f\) is not trivial, then \(f\) is surjective.
  \end{enumerate}
\end{proposition}
\begin{proof}
  All obvious.
\end{proof}

\section{Cohomology with compact support}
\label{sec:cohomology_with_compact_support}

For this section, let \(R\) be a commutative ring with unit \(1_{R}\). For most of this section, we will work with cohomology over \(R\), but notationally suppress this.

\begin{definition}[singular cochains with compact support]
  \label{def:singular_cochains_with_compact_support}
  Let \(X\) be a topological space, and let \(R\) be a commutative ring with unit \(1_{R}\). The \defn{singular $n$-cochains with compact support} are the set
  \begin{equation*}
    S^{n}_{c}(X ; R) = \left\{ \phi\colon S_{n}(X) \to R \mid \substack{\text{there exists } K_{\phi} \subset X \text{ compact such that } \\ \phi(\sigma) = 0 \text{ for all }\sigma\colon \Delta^{n} \to X \text{ with }\sigma(\Delta^{n}) \cap K_{\phi} = \emptyset } \right\}.
  \end{equation*}
\end{definition}
That is, singular cochains with compact support are those \(\phi\) which ignore simplices which do not hit some compact subset \(K_{\phi}\).

Clearly \(S^{n}_{c}(X) \subset S^{n}(X)\), and since the boundary of any simplex with compact support clearly has compact support, there is an induced chain complex structure
\begin{equation*}
  S^{*}_{c}(X).
\end{equation*}

However, there is a more categorical description of this chain complex coming from relative cohomology.

Let \(X\) be a topological space. Denote by \(\mathcal{K}\) the set of compact subsets of \(X\). This is clearly a poset under
\begin{equation*}
  K \leq K' \iff K \subseteq K',
\end{equation*}
and it is filtered because for a finite set \(I\), \(\bigcup_{i} K_{i}\) is an upper bound for \(\{K_{i}\}_{i \in I}\).

Fixing some \(X\), consider the functor
\begin{equation*}
  \mathcal{K}\op \to \Pair;\qquad K \mapsto (X, X \smallsetminus K).
\end{equation*}

We get a functor \(\mathcal{K} \to \mathbf{Coch}_{\geq 0}(\Rmod)\) via the composition
\begin{equation*}
  \begin{tikzcd}
    \mathcal{K}
    \arrow[r]
    & \Pair\op
    \arrow[r, "S^{\bullet}"]
    & \mathbf{Coch}_{\geq 0}(\Rmod)
  \end{tikzcd}.
\end{equation*}
For obvious reasons, we call this functor \(S^{\bullet}(X \mid -)\)

\begin{proposition}
  The colimit
  \begin{equation*}
    \colim_{K} S^{\bullet}(X \mid K)
  \end{equation*}
  agrees with cohomology with compact support \(S^{\bullet}_{c}(X)\).
\end{proposition}
\begin{proof}
  Let \(f \in S^{n}(X \mid K)\). Then by definition, \(f\) is a map \(S_{n}(X \mid K) \to R\), i.e.\ a map \(S_{n}(X) \to R\) such that for any \(\sigma\colon \Delta^{n} \to X\) such that \(\sigma(\Delta^{n}) \cap K = \emptyset\), \(f(\sigma) = 0\). Thus, \(f \in S^{n}_{c}(X)\).

  This inclusion gives a chain map \(S^{\bullet}(X \mid K) \hookrightarrow S^{\bullet}_{c}(X)\), and these together induce an inclusion\footnote{This is a monomorphism because the components are monomorphisms, and by \hyperref[cor:filtered_colimits_into_chain_complexes]{Corollary~\ref*{cor:filtered_colimits_into_chain_complexes}} filtered colimits are exact, hence preserve monomorphisms.} \(\colim_{K} S^{\bullet}(X \mid K) \to S^{\bullet}_{c}(X)\). In fact, this is a level-wise epimorphsim since any \(g \in S^{\bullet}_{c}(X)\) is of the above form.
\end{proof}

\begin{corollary}
  We have an isomorphism
  \begin{equation*}
    H^{n}_{c}(X) \cong \colim_{K} H^{n}(X \mid K).
  \end{equation*}
\end{corollary}
\begin{proof}
  Filtered colimits are exact by \hyperref[cor:filtered_colimits_into_chain_complexes]{Corollary~\ref*{cor:filtered_colimits_into_chain_complexes}}.
\end{proof}

\section{Poincaré duality}
\label{sec:poincare_duality}

This section takes place over a ring \(R\) with unit \(1_{R}\). We will usually notationally suppress \(R\).

Let \(M\) be a connected, \(m\)-dimensional manifold with \(R\)-orientation \(x \mapsto o_{x}\), and let \(K \subset M\) be a compact subset. By \hyperref[prop:orientation_class_for_compacta]{Proposition~\ref*{prop:orientation_class_for_compacta}}, there exists an orientation class \(o_{K} \in H_{m}(M \mid K)\) compatible with the orientation \(o_{x}\).

Consider the cap product
\begin{equation*}
  \begin{tikzcd}
    H^{q}(M \mid K) \otimes H_{m}(M \mid K)
    \arrow[r, "\frown"]
    & H_{m-q}(M)
  \end{tikzcd}.
\end{equation*}
Sticking \(o_{K} \in H_{m}(M \mid K)\) into the second slot of the cap product and setting \(p = n-q\), we find a map
\begin{equation*}
  \begin{tikzcd}[column sep=large]
    H^{m - p}(M \mid K)
    \arrow[r, "(-) \frown o_{K}"]
    & H_{p}(M)
  \end{tikzcd}
\end{equation*}

\begin{proposition}
  \label{prop:poincare_duality_well_defined}
  The maps
  \begin{equation*}
    (-) \frown o_{K}\colon H^{m-p}(M | K) \to H_{p}(M)
  \end{equation*}
  descend to a map
  \begin{equation*}
    H^{m-p}_{c}(M) \to H_{p}(M).
  \end{equation*}
\end{proposition}
\begin{proof}
  By \hyperref[prop:cup_product_natural]{Proposition~\ref*{prop:cup_product_natural}}, the identity \(\id_{M}\colon M \to M\) makes the following diagram commute.
  \begin{equation*}
    \begin{tikzcd}
      H^{m-p}(M \mid L) \otimes H_{m}(M \mid L)
      \arrow[r, "(-)\frown(-)"]
      \arrow[d]
      & H_{p}(M)
      \arrow[d, "(\id_{M})_{*}"]
      \\
      H^{m-p}(M \mid K) \otimes H_{m}(M \mid K)
      \arrow[r, swap, "(-)\frown(-)"]
      & H_{p}(M)
    \end{tikzcd}
  \end{equation*}
  Since
  \begin{equation*}
    (\id_{M})_{*} = \id_{H_{p}(M)},
  \end{equation*}
  this in particular means that the triangles
  \begin{equation*}
    \begin{tikzcd}[row sep=small]
      H^{m-p}(M \mid L)
      \arrow[dr, "(-) \frown o_{L}"]
      \arrow[dd]
      \\
      & H_{p}(M)
      \\
      H^{m-p}(M \mid K)
      \arrow[ur, swap, "(-) \frown o_{K}"]
    \end{tikzcd}
  \end{equation*}
  commute. But this says that the maps \((-) \frown o_{K}\) form a cocone under \(H^{m-p}(M \mid -)\).
\end{proof}

\begin{definition}[Poincaré duality]
  \label{def:poincare_duality}
  The map defined in \hyperref[prop:poincare_duality_well_defined]{Proposition~\ref*{prop:poincare_duality_well_defined}} is called the \defn{Poincar\'{e} Duality} map, and denoted
  \begin{equation*}
    \PD_{M}\colon H^{m-q}_{c}(M) \to H_{m}(M).
  \end{equation*}
\end{definition}

\begin{theorem}[Poincaré duality]
  Let \(M\) be a connected manifold of dimension \(m\) with an \(R\)-orientation \(x \mapsto o_{x}\). Then
  \begin{equation*}
    \PD_{M}\colon H^{m-p}_{c}(M; R) \to H_{p}(M; R)
  \end{equation*}
  is an isomorphism for all \(p \in \Z\).
\end{theorem}
\begin{proof}
  Manifold induction!
\end{proof}

\section{Alexander-Lefschetz duality}
\label{sec:alexander_lefschetz_duality}

\section{The Milnor sequence}
\label{sec:the_milnor_sequence}

In \hyperref[ssc:inverse_limits]{Subsection~\ref*{ssc:inverse_limits}}, we showed that for any tower of cochain complexes of abelian groups \(\{C_{i}\}\) satisfying the Mittag-Leffler condition\footnote{i.e.\ satisfying it level-wise} and any \(q \in \Z\), we have a short exact sequence
\begin{equation*}
  \begin{tikzcd}
    0
    \arrow[r]
    & \Lim^{1} H^{q-1}(C_{i})
    \arrow[r, hook]
    & H^{q}(\lim_{i} C_{i})
    \arrow[r, two heads]
    & \lim H_{q}(C_{i})
    \arrow[r]
    & 0
  \end{tikzcd}.
\end{equation*}

\begin{theorem}[Milnor sequence for CW complexes]
  Let \(X\) be a CW complex with filtration
  \begin{equation*}
    X_{0} \subset X_{1} \subset \cdots,\qquad \text{so}\quad X \cong \bigcup_{i \geq 0} X_{i}.
  \end{equation*}
  Then for any abelian group \(G\) there is a short exact sequence
  \begin{equation*}
    \begin{tikzcd}
      0
      \arrow[r]
      & \Lim^{1} H^{m-1}(X_{n}; G)
      \arrow[r, hook]
      & H^{m}(X;G)
      \arrow[r, two heads]
      & \lim H^{m}(X_{m}; G)
      \arrow[r]
      & 0
    \end{tikzcd}.
  \end{equation*}
\end{theorem}
\begin{proof}
  The tower of chain complexes \(C^{\bullet}_{n} = \Hom(S_{\bullet}(X_{n}), G)\) satisfies the Mittag-Leffler condition (\hyperref[def:mittag_leffler_condition]{Definition~\ref*{def:mittag_leffler_condition}}) because the maps \(C^{\bullet}_{n} \to C^{\bullet}_{n-1}\) dual to the inclusions \(S_{\bullet}(X_{n-1}) \hookrightarrow S_{\bullet}(X_{n})\) are epimorphisms (because the exact sequence on the pair splits).

  Plugging this into in \hyperref[thm:milnor_sequence]{Theorem~\ref*{thm:milnor_sequence}}. we find that the sequence
  \begin{equation*}
    \begin{tikzcd}
      0
      \arrow[r]
      & \Lim^{1} H^{q-1}(X_{i})
      \arrow[r, hook]
      & H^{q}(\lim \Hom(S_{\bullet}(X_{i}), G))
      \arrow[r, two heads]
      & \lim H_{q}(X_{i})
      \arrow[r]
      & 0
    \end{tikzcd}.
  \end{equation*}
  It remains only to show that
  \begin{equation*}
    H^{q}(\lim \Hom(S_{\bullet}(X_{i}), G)) \cong H^{q}(X; G),
  \end{equation*}
  i.e.\ that
  \begin{equation*}
    \lim \Hom(S_{\bullet}(X_{i}), G) \cong \Hom(S_{\bullet}(X); G).
  \end{equation*}
  But this is true because \(\Hom\) turns limits into colimits in the first slot, and \(S_{\bullet}\) commutes with colimits because reasons.
\end{proof}

\begin{example}
  Consider the tower (in \(\Top\)!)
  \begin{equation*}
    \C P^{0} \hookrightarrow \C P^{1} \hookrightarrow \C P^{2} \hookrightarrow \cdots.
  \end{equation*}
  Denote
  \begin{equation*}
    \C P^{\infty} := \lim_{i} \C P^{i}.
  \end{equation*}

  The above tower is the CW filtration of \(\C P^{\infty}\), including only even levels. Because the sequence
  \begin{equation*}
    \begin{tikzcd}
      0
      \arrow[r]
      & S_{\bullet}(\C P^{n-1})
      \arrow[r, hook]
      & S_{\bullet}(\C P^{n})
      \arrow[r, two heads]
      & S_{\bullet}(\C P^{n}, \C P^{n-1})
      \arrow[r]
      & 0
    \end{tikzcd}
  \end{equation*}
  splits and \(\Hom\) and \(H_{q}\) are additive, we get that the maps
  \begin{equation*}
    H_{q}(\C P^{n}) \to H_{q}(\C P^{n-1})
  \end{equation*}
  are epimorphisms. Thus, the tower \(H^{q-1}(\C P^{n})\) also satisfies the Mittag-Leffler condition, and we get that
  \begin{equation*}
    H^{q}(\C P^{\infty}) \cong \lim_{i} H^{q}(\C P^{i}) \cong
    \begin{cases}
      \Z, &q \text{ even} \\
      0, &q \text{ odd}.
    \end{cases}
  \end{equation*}
\end{example}

\section{Lens spaces}
\label{sec:lens_spaces}



\end{document}
